name: TLE update

on:
  schedule:
    # 每天 UTC 时间 0 点运行 (可以根据需求修改时间)
    - cron: '30 15 * * *'
  workflow_dispatch: # 手动触发支持

jobs:
  download:
    runs-on: ubuntu-latest
    steps:
      # 检出代码仓库
      - name: Checkout repository
        uses: actions/checkout@v3

      # 下载文件
      - name: Download file
        run: |
          # 下载第一个文件
          curl -o satonline.txt https://r4uab.ru/satonline.txt
          
          # 下载第二个文件并追加到第一个文件
          curl https://ariss-usa.org/keps.txt >> satonline.txt
          
          # 追加指定的TLE数据到文件末尾
          echo -e "\nFram2(SatNOGS)\n1 98609U 25090A   25091.31543312  .00000000  00000-0 -25444-3 0    03\n2 98609  90.0015 318.4250 0001128  47.8434   2.3016 15.45593922    01" >> satonline.txt
      
      # 可选：将文件提交回仓库
      - name: Commit changes
        run: |
          git config --global user.name "github-actions"
          git config --global user.email "github-actions@github.com"
          git add satonline.txt
          git commit -m "Updated file on $(date)"
          git push
